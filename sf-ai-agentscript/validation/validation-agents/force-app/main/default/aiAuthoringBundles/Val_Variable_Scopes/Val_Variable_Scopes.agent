# Val_Variable_Scopes - Tests variable namespace patterns
# Purpose: Verify @variables.* namespace works correctly
#
# Tests:
#   ✓ mutable variables with defaults
#   ✓ Different variable types: string, number, boolean
#   ✓ Variable assignment with set
#   ✓ Variable access in conditionals
#
# SKILL.md Section: Variable Namespaces, Variable Types
# Note: @state.* is alias for @variables.* in some contexts

system:
   messages:
      welcome: "Variable scope validation ready."
      error: "Variable scope error."
   instructions: "This agent tests variable scopes and types."

config:
   agent_name: "Val_Variable_Scopes"
   agent_label: "Validation: Variable Scopes"
   description: "Tests variable namespaces and types"
   default_agent_user: "home_furnishing_agent@00dvz000004evdp1379858245.ext"

variables:
   text_var: mutable string = "initial"
   num_var: mutable number = 0
   bool_var: mutable boolean = False

topic test_variables:
   description: "Test variable operations"
   reasoning:
      instructions: ->
         # Test mutable string assignment
         set @variables.text_var = "updated"

         # Test mutable number assignment
         set @variables.num_var = 42

         # Test mutable boolean assignment
         set @variables.bool_var = True

         # Access variables in output
         | Text: {!@variables.text_var}
         | Number: {!@variables.num_var}

         # Use variables in conditionals
         if @variables.bool_var == True:
            | Boolean is True

         if @variables.num_var > 0:
            | Number is positive
      actions:
         complete: @utils.transition to @topic.done
            description: "Complete variable test"

topic done:
   description: "Validation complete"
   reasoning:
      instructions: |
         Variable scope validation successful.

start_agent entry:
   description: "Entry point"
   reasoning:
      instructions: |
         Start variable scope validation.
      actions:
         begin: @utils.transition to @topic.test_variables
            description: "Begin variable tests"
